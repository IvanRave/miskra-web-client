<div data-app-toolbar>
</div>

<div class="app-content">
  <div class="pure-g">
	<div class="pure-u pure-u-sm-1-8"></div>
	<div class="pure-u-1 pure-u-sm-3-4">
	  <div class="mrgn">
		<h1 data-ng-bind="page_ttl">
		</h1>
		<form class="splr-login__form"
			  name="loginForm"
			  ng-submit="sendAuth(auth.lgn, auth.pwd)">
		  <div class="splr-login__form-item">
			<label>
			  Логин
			  <input class="splr-login__input"
					 autofocus
					 type="text"
					 name="lgn"
					 maxlength="10"
					 minlength="1"
					 required
					 ng-model="auth.lgn"/>
			</label>
			<div class="splr-login__warning"
				 role="alert"
				 ng-messages="loginForm.lgn.$error">
			  <div ng-message="required"
				   ng-if="loginForm.lgn.$error.required && loginForm.lgn.$dirty">
				обязательное поле: от 1 до 10 цифр
			  </div>
			  <div ng-message="minlength"
				   ng-if="loginForm.lgn.$error.minlength">
				обязательное поле: от 1 до 10 цифр
			  </div>
			  <div ng-message="maxlength"			 
				   ng-if="loginForm.lgn.$error.maxlength">
				обязательное поле: от 1 до 10 цифр
			  </div>
			</div>
		  </div>
		  
		  <div class="splr-login__form-item">
			<label>
			  Пароль
			  <input class="splr-login__input"
					 type="password"
					 name="pwd"
					 required
					 maxlength="50"
					 minlength="6"
					 ng-model="auth.pwd" />
			</label>
			<div class="splr-login__warning"
				 role="alert"
				 ng-messages="loginForm.pwd.$error">
			  <div ng-message="minlength"
				   ng-if="loginForm.pwd.$error.minlength">
				обязательное поле: от 6 до 50 символов
			  </div>
			  <div ng-message="maxlength"
				   ng-if="loginForm.pwd.$error.maxlength">
				обязательное поле: от 6 до 50 символов
			  </div>
			  <div ng-message="required"
				   ng-if="loginForm.pwd.$error.required && loginForm.pwd.$dirty">
				обязательное поле: от 6 до 50 символов
			  </div>
			</div>
		  </div>		  
		  <div>
			<button class="splr-login__lgn-button"
					type="submit"
					ng-disabled="loginForm.$invalid || in_progress">
			  Войти
			</button>
			<span ng-if="in_progress"
				  style="margin-left: 4px">
			  ...
			</span>
		  </div>
		</form>
		<div class="splr-login__err-block"
			 ng-if="err_msg">
		  Ошибка входа: <span ng-bind="err_msg"></span>
		</div>
		<p>
		  <small>
			*логин и пароль для входа выдаются администрацией сервиса после верификации мастера/салона
		  </small>
		</p>
		<div>
		  <a href=""
			 ng-if="statePrev.url"
			 onclick="history.back(); return false;">
			<span class="fa fa-arrow-left">
			</span>
			вернуться назад
		  </a>
		</div>
	  </div>
	</div>
  </div>
</div>
